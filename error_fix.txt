cd /run/
sudo mkdir consul
cd consul/
sudo touch counsul.pid
sudo chown -R consul:consul /opt/consul /etc/consul.d /run/consul /var/log/consul


sudo systemctl restart consul
sudo systemctl status consul

consul members


kubectl version 


To assign names/aliases to the Consul members, you can utilize the `node-meta` feature of Consul. The `node-meta` feature allows you to add metadata to Consul nodes, including assigning custom names or aliases.

Here's an example of how you can assign names/aliases to Consul members using `node-meta`:

1. Connect to one of the Consul server nodes using SSH or a remote terminal.

2. Run the following command to add metadata to a Consul node:

   ```shell
   consul operator node update -node=<node-name> -node-meta="name=<alias>"
   consul operator node update -node=ip-10-0-6-79 -node-meta="name=consul_server_agent"
   ```

   Replace `<node-name>` with the name of the Consul node you want to assign an alias to, and `<alias>` with the desired name or alias.

   For example, to assign an alias "consul-server-0" to the node "consul_server_0", you would run:

   ```shell
   consul operator node update -node=consul_server_0 -node-meta="name=consul-server-0"
   ```

3. Repeat the above step for each Consul server or client node to assign their respective names/aliases.

4. After updating the metadata for all the nodes, you can verify the changes by running the Consul members command:

   ```shell
   consul members
   ```

   The output should now display the assigned names/aliases in the "Node" column.

   Example output:

   ```
   Node               Address          Status  Type    Build  Protocol  DC         Segment
   consul-server-0    10.0.6.71:8301   alive   server  1.8.5  2         opsschool  <all>
   consul-server-1    10.0.7.35:8301   alive   server  1.8.5  2         opsschool  <all>
   consul-server-2    10.0.6.33:8301   alive   server  1.8.5  2         opsschool  <all>
   elastic_search     10.0.6.114:8301  alive   client  1.8.5  2         opsschool  <default>
   ip-10-0-6-79       10.0.6.79:8301   alive   client  1.8.5  2         opsschool  <default>
   jenkins_master     10.0.6.229:8301  alive   client  1.8.5  2         opsschool  <default>
   ```

By assigning names/aliases to the Consul members, you can easily identify and reference them based on the assigned aliases in your configuration or communication with Consul.